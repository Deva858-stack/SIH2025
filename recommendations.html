<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crop Recommender - Odisha</title>
    <link rel="stylesheet" href="recommendations.css">
   
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-icon">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10" />
                </svg>
            </div>
            <h1 data-translate="rec-title">Crop Recommender</h1>
            <p data-translate="rec-subtitle">For Odisha's Cropping Seasons</p>
        </div>

        <form id="recommendation-form">
            <div class="form-group">
                <label for="district" data-translate="rec-district">District</label>
                <div class="input-container">
                    <select id="district" name="district">
                        <option value="" data-translate="rec-select-district">Select your district</option>
                        <option value="Cuttack">Cuttack</option>
                        <option value="Balasore">Balasore</option>
                        <option value="Puri">Puri</option>
                        <option value="Sambalpur">Sambalpur</option>
                        <option value="Koraput">Koraput</option>
                        <option value="Kalahandi">Kalahandi</option>
                        <option value="Ganjam">Ganjam</option>
                        <option value="Angul">Angul</option>
                        <option value="Rayagada">Rayagada</option>
                        <option value="Bargarh">Bargarh</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label for="date" data-translate="rec-date">Date</label>
                <div class="input-container">
                    <input type="date" id="date" name="date" required>
                </div>
            </div>
            
            <button type="submit" id="recommend-btn" class="submit-btn">
                <span id="btn-text" data-translate="rec-get-recommendations">Get Recommendations</span>
                <span id="btn-loader" class="hidden">
                    <div class="loader"></div>
                </span>
            </button>
        </form>

        <div id="results-section" class="hidden"></div>

        <div class="back-link">
            <a href="index2.html" data-translate="rec-back-home">&larr; Back to Home</a>
        </div>
    </div>

    <script>
        // Translation Data
        const translations = {
            en: {
                'rec-title': 'Crop Recommender',
                'rec-subtitle': 'For Odisha\'s Cropping Seasons',
                'rec-district': 'District',
                'rec-select-district': 'Select your district',
                'rec-date': 'Date',
                'rec-get-recommendations': 'Get Recommendations',
                'rec-back-home': 'â† Back to Home',
                'rec-results-title': 'Top 4 Recommendations for',
                'rec-season': 'Season',
                'rec-kharif': 'Kharif',
                'rec-rabi': 'Rabi',
                'rec-zaid': 'Zaid',
                'rec-rice': 'Rice',
                'rec-maize': 'Maize',
                'rec-ragi': 'Ragi',
                'rec-groundnut': 'Groundnut',
                'rec-cotton': 'Cotton',
                'rec-jute': 'Jute',
                'rec-wheat': 'Wheat',
                'rec-mustard': 'Mustard',
                'rec-chickpea': 'Chickpea',
                'rec-barley': 'Barley',
                'rec-lentil': 'Lentil (Masur)',
                'rec-potato': 'Potato',
                'rec-mung-bean': 'Mung Bean',
                'rec-watermelon': 'Watermelon',
                'rec-cucumber': 'Cucumber',
                'rec-pumpkin': 'Pumpkin',
                'rec-rice-reason': 'Ideal for monsoon rains.',
                'rec-maize-reason': 'High demand and adaptable.',
                'rec-ragi-reason': 'Drought-resistant millet.',
                'rec-groundnut-reason': 'Good for oil production.',
                'rec-cotton-reason': 'Thrives in warm, humid weather.',
                'rec-jute-reason': 'Requires significant water.',
                'rec-wheat-reason': 'Requires cool growing season.',
                'rec-mustard-reason': 'Key oilseed for the season.',
                'rec-chickpea-reason': 'Important pulse crop.',
                'rec-barley-reason': 'Tolerant to frost.',
                'rec-lentil-reason': 'Nutritious and profitable.',
                'rec-potato-reason': 'High-yield tuber crop.',
                'rec-mung-bean-reason': 'Fast-growing pulse.',
                'rec-watermelon-reason': 'High market demand in summer.',
                'rec-cucumber-reason': 'Grows quickly in warm weather.',
                'rec-pumpkin-reason': 'Hardy and versatile.'
            },
            hi: {
                'rec-title': 'à¤«à¤¸à¤² à¤¸à¥à¤à¤¾à¤µà¤•à¤°à¥à¤¤à¤¾',
                'rec-subtitle': 'à¤“à¤¡à¤¿à¤¶à¤¾ à¤•à¥‡ à¤«à¤¸à¤² à¤®à¥Œà¤¸à¤® à¤•à¥‡ à¤²à¤¿à¤',
                'rec-district': 'à¤œà¤¿à¤²à¤¾',
                'rec-select-district': 'à¤…à¤ªà¤¨à¤¾ à¤œà¤¿à¤²à¤¾ à¤šà¥à¤¨à¥‡à¤‚',
                'rec-date': 'à¤¤à¤¾à¤°à¥€à¤–',
                'rec-get-recommendations': 'à¤¸à¥à¤à¤¾à¤µ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚',
                'rec-back-home': 'â† à¤¹à¥‹à¤® à¤ªà¤° à¤µà¤¾à¤ªà¤¸ à¤œà¤¾à¤à¤‚',
                'rec-results-title': 'à¤¶à¥€à¤°à¥à¤· 4 à¤¸à¥à¤à¤¾à¤µ',
                'rec-season': 'à¤®à¥Œà¤¸à¤®',
                'rec-kharif': 'à¤–à¤°à¥€à¤«',
                'rec-rabi': 'à¤°à¤¬à¥€',
                'rec-zaid': 'à¤œà¤¾à¤¯à¤¦',
                'rec-rice': 'à¤šà¤¾à¤µà¤²',
                'rec-maize': 'à¤®à¤•à¥à¤•à¤¾',
                'rec-ragi': 'à¤°à¤¾à¤—à¥€',
                'rec-groundnut': 'à¤®à¥‚à¤‚à¤—à¤«à¤²à¥€',
                'rec-cotton': 'à¤•à¤ªà¤¾à¤¸',
                'rec-jute': 'à¤œà¥‚à¤Ÿ',
                'rec-wheat': 'à¤—à¥‡à¤¹à¥‚à¤‚',
                'rec-mustard': 'à¤¸à¤°à¤¸à¥‹à¤‚',
                'rec-chickpea': 'à¤šà¤¨à¤¾',
                'rec-barley': 'à¤œà¥Œ',
                'rec-lentil': 'à¤®à¤¸à¥‚à¤°',
                'rec-potato': 'à¤†à¤²à¥‚',
                'rec-mung-bean': 'à¤®à¥‚à¤‚à¤—',
                'rec-watermelon': 'à¤¤à¤°à¤¬à¥‚à¤œ',
                'rec-cucumber': 'à¤–à¥€à¤°à¤¾',
                'rec-pumpkin': 'à¤•à¤¦à¥à¤¦à¥‚',
                'rec-rice-reason': 'à¤®à¤¾à¤¨à¤¸à¥‚à¤¨ à¤•à¥€ à¤¬à¤¾à¤°à¤¿à¤¶ à¤•à¥‡ à¤²à¤¿à¤ à¤†à¤¦à¤°à¥à¤¶à¥¤',
                'rec-maize-reason': 'à¤‰à¤šà¥à¤š à¤®à¤¾à¤‚à¤— à¤”à¤° à¤…à¤¨à¥à¤•à¥‚à¤²à¤¨à¥€à¤¯à¥¤',
                'rec-ragi-reason': 'à¤¸à¥‚à¤–à¤¾-à¤ªà¥à¤°à¤¤à¤¿à¤°à¥‹à¤§à¥€ à¤¬à¤¾à¤œà¤°à¤¾à¥¤',
                'rec-groundnut-reason': 'à¤¤à¥‡à¤² à¤‰à¤¤à¥à¤ªà¤¾à¤¦à¤¨ à¤•à¥‡ à¤²à¤¿à¤ à¤…à¤šà¥à¤›à¤¾à¥¤',
                'rec-cotton-reason': 'à¤—à¤°à¥à¤®, à¤†à¤°à¥à¤¦à¥à¤° à¤®à¥Œà¤¸à¤® à¤®à¥‡à¤‚ à¤ªà¤¨à¤ªà¤¤à¤¾ à¤¹à¥ˆà¥¤',
                'rec-jute-reason': 'à¤ªà¤°à¥à¤¯à¤¾à¤ªà¥à¤¤ à¤ªà¤¾à¤¨à¥€ à¤•à¥€ à¤†à¤µà¤¶à¥à¤¯à¤•à¤¤à¤¾à¥¤',
                'rec-wheat-reason': 'à¤ à¤‚à¤¡à¥‡ à¤¬à¤¢à¤¼à¤¤à¥‡ à¤®à¥Œà¤¸à¤® à¤•à¥€ à¤†à¤µà¤¶à¥à¤¯à¤•à¤¤à¤¾à¥¤',
                'rec-mustard-reason': 'à¤®à¥Œà¤¸à¤® à¤•à¥‡ à¤²à¤¿à¤ à¤ªà¥à¤°à¤®à¥à¤– à¤¤à¤¿à¤²à¤¹à¤¨à¥¤',
                'rec-chickpea-reason': 'à¤®à¤¹à¤¤à¥à¤µà¤ªà¥‚à¤°à¥à¤£ à¤¦à¤²à¤¹à¤¨à¥€ à¤«à¤¸à¤²à¥¤',
                'rec-barley-reason': 'à¤ªà¤¾à¤²à¤¾ à¤¸à¤¹à¤¨à¤¶à¥€à¤²à¥¤',
                'rec-lentil-reason': 'à¤ªà¥Œà¤·à¥à¤Ÿà¤¿à¤• à¤”à¤° à¤²à¤¾à¤­à¤¦à¤¾à¤¯à¤•à¥¤',
                'rec-potato-reason': 'à¤‰à¤šà¥à¤š à¤‰à¤ªà¤œ à¤µà¤¾à¤²à¥€ à¤•à¤‚à¤¦ à¤«à¤¸à¤²à¥¤',
                'rec-mung-bean-reason': 'à¤¤à¥‡à¤œà¥€ à¤¸à¥‡ à¤¬à¤¢à¤¼à¤¨à¥‡ à¤µà¤¾à¤²à¥€ à¤¦à¤²à¤¹à¤¨à¥¤',
                'rec-watermelon-reason': 'à¤—à¤°à¥à¤®à¤¿à¤¯à¥‹à¤‚ à¤®à¥‡à¤‚ à¤‰à¤šà¥à¤š à¤¬à¤¾à¤œà¤¾à¤° à¤®à¤¾à¤‚à¤—à¥¤',
                'rec-cucumber-reason': 'à¤—à¤°à¥à¤® à¤®à¥Œà¤¸à¤® à¤®à¥‡à¤‚ à¤¤à¥‡à¤œà¥€ à¤¸à¥‡ à¤¬à¤¢à¤¼à¤¤à¤¾ à¤¹à¥ˆà¥¤',
                'rec-pumpkin-reason': 'à¤®à¤œà¤¬à¥‚à¤¤ à¤”à¤° à¤¬à¤¹à¥à¤®à¥à¤–à¥€à¥¤'
            },
            or: {
                'rec-title': 'à¬«à¬¸à¬² à¬ªà¬°à¬¾à¬®à¬°à­à¬¶à¬•',
                'rec-subtitle': 'à¬“à¬¡à¬¼à¬¿à¬¶à¬¾à¬° à¬«à¬¸à¬² à¬‹à¬¤à­ à¬ªà¬¾à¬‡à¬',
                'rec-district': 'à¬œà¬¿à¬²à­à¬²à¬¾',
                'rec-select-district': 'à¬†à¬ªà¬£à¬™à­à¬•à¬° à¬œà¬¿à¬²à­à¬²à¬¾ à¬¬à¬¾à¬›à¬¨à­à¬¤à­',
                'rec-date': 'à¬¤à¬¾à¬°à¬¿à¬–',
                'rec-get-recommendations': 'à¬ªà¬°à¬¾à¬®à¬°à­à¬¶ à¬ªà­à¬°à¬¾à¬ªà­à¬¤ à¬•à¬°à¬¨à­à¬¤à­',
                'rec-back-home': 'â† à¬˜à¬°à¬•à­ à¬«à­‡à¬°à¬¨à­à¬¤à­',
                'rec-results-title': 'à¬¶à­à¬°à­‡à¬·à­à¬  à­ª à¬ªà¬°à¬¾à¬®à¬°à­à¬¶',
                'rec-season': 'à¬‹à¬¤à­',
                'rec-kharif': 'à¬–à¬°à¬¿à¬«',
                'rec-rabi': 'à¬°à¬¬à¬¿',
                'rec-zaid': 'à¬œà¬¾à­Ÿà¬¦',
                'rec-rice': 'à¬šà¬¾à¬‰à¬³',
                'rec-maize': 'à¬®à¬•à¬¾',
                'rec-ragi': 'à¬°à¬¾à¬—à¬¿',
                'rec-groundnut': 'à¬šà¬¿à¬¨à¬¾à¬¬à¬¾à¬¦à¬¾à¬®',
                'rec-cotton': 'à¬•à¬ªà¬¡à¬¼à¬¾',
                'rec-jute': 'à¬ªà¬¾à¬Ÿ',
                'rec-wheat': 'à¬—à¬¹à¬®',
                'rec-mustard': 'à¬¸à­‹à¬°à¬¿à¬·',
                'rec-chickpea': 'à¬¬à­à¬Ÿ',
                'rec-barley': 'à¬¯à¬¬',
                'rec-lentil': 'à¬®à¬¸à­à¬°',
                'rec-potato': 'à¬†à¬³à­',
                'rec-mung-bean': 'à¬®à­à¬—',
                'rec-watermelon': 'à¬¤à¬°à¬¬à­à¬œ',
                'rec-cucumber': 'à¬•à¬¾à¬•à­à¬¡à¬¼à¬¿',
                'rec-pumpkin': 'à¬•à¬¦à¬³à­€',
                'rec-rice-reason': 'à¬®à­Œà¬¸à­à¬®à­€ à¬¬à¬°à­à¬·à¬¾ à¬ªà¬¾à¬‡à¬ à¬†à¬¦à¬°à­à¬¶à¥¤',
                'rec-maize-reason': 'à¬‰à¬šà­à¬š à¬šà¬¾à¬¹à¬¿à¬¦à¬¾ à¬à¬¬à¬‚ à¬…à¬¨à­à¬•à­‚à¬³à¥¤',
                'rec-ragi-reason': 'à¬¶à­à¬·à­à¬•-à¬ªà­à¬°à¬¤à¬¿à¬°à­‹à¬§à­€ à¬®à¬¿à¬²à­‡à¬Ÿà¥¤',
                'rec-groundnut-reason': 'à¬¤à­‡à¬² à¬‰à¬¤à­à¬ªà¬¾à¬¦à¬¨ à¬ªà¬¾à¬‡à¬ à¬­à¬²à¥¤',
                'rec-cotton-reason': 'à¬—à¬°à¬®, à¬†à¬°à­à¬¦à­à¬° à¬ªà¬¾à¬£à¬¿à¬ªà¬¾à¬—à¬°à­‡ à¬¬à¬¢à¬¼à­‡à¥¤',
                'rec-jute-reason': 'à¬ªà¬°à­à¬¯à­à­Ÿà¬¾à¬ªà­à¬¤ à¬ªà¬¾à¬£à¬¿ à¬†à¬¬à¬¶à­à­Ÿà¬•à¥¤',
                'rec-wheat-reason': 'à¬¥à¬£à­à¬¡à¬¾ à¬¬à¬¢à¬¼à¬¿à¬¬à¬¾ à¬‹à¬¤à­ à¬†à¬¬à¬¶à­à­Ÿà¬•à¥¤',
                'rec-mustard-reason': 'à¬‹à¬¤à­ à¬ªà¬¾à¬‡à¬ à¬®à­à¬–à­à­Ÿ à¬¤à­‡à¬²à¬¬à¬¿à¬¹à¬¨à¥¤',
                'rec-chickpea-reason': 'à¬—à­à¬°à­à¬¤à­à­±à¬ªà­‚à¬°à­à¬£à­à¬£ à¬¡à¬¾à¬²à¬¿ à¬«à¬¸à¬²à¥¤',
                'rec-barley-reason': 'à¬ªà¬¾à¬²à¬¾ à¬¸à¬¹à¬¨à¬¶à­€à¬³à¥¤',
                'rec-lentil-reason': 'à¬ªà­à¬·à­à¬Ÿà¬¿à¬•à¬° à¬à¬¬à¬‚ à¬²à¬¾à¬­à¬¦à¬¾à­Ÿà¬•à¥¤',
                'rec-potato-reason': 'à¬‰à¬šà­à¬š à¬«à¬³ à¬•à¬¨à­à¬¦ à¬«à¬¸à¬²à¥¤',
                'rec-mung-bean-reason': 'à¬¦à­à¬°à­à¬¤ à¬¬à¬¢à¬¼à­à¬¥à¬¿à¬¬à¬¾ à¬¡à¬¾à¬²à¬¿à¥¤',
                'rec-watermelon-reason': 'à¬—à­à¬°à­€à¬·à­à¬®à¬°à­‡ à¬‰à¬šà­à¬š à¬¬à¬œà¬¾à¬° à¬šà¬¾à¬¹à¬¿à¬¦à¬¾à¥¤',
                'rec-cucumber-reason': 'à¬—à¬°à¬® à¬ªà¬¾à¬£à¬¿à¬ªà¬¾à¬—à¬°à­‡ à¬¦à­à¬°à­à¬¤ à¬¬à¬¢à¬¼à­‡à¥¤',
                'rec-pumpkin-reason': 'à¬®à¬œà¬¬à­à¬¤ à¬à¬¬à¬‚ à¬¬à¬¹à­à¬®à­à¬–à­€à¥¤'
            }
        };

        // Translation Function
        function translatePage(lang) {
            const elements = document.querySelectorAll('[data-translate]');
            elements.forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[lang] && translations[lang][key]) {
                    element.textContent = translations[lang][key];
                }
            });
        }

        // Set today's date as default
        document.getElementById('date').value = new Date().toISOString().split('T')[0];
        
        const form = document.getElementById('recommendation-form');
        const recommendBtn = document.getElementById('recommend-btn');
        const btnText = document.getElementById('btn-text');
        const btnLoader = document.getElementById('btn-loader');
        const resultsSection = document.getElementById('results-section');
        
        const cropsBySeason = {
            Kharif: [
                { name: 'Rice', emoji: 'ðŸŒ¾', reason: 'rec-rice-reason', nameKey: 'rec-rice' },
                { name: 'Maize', emoji: 'ðŸŒ½', reason: 'rec-maize-reason', nameKey: 'rec-maize' },
                { name: 'Ragi', emoji: 'ðŸŒ±', reason: 'rec-ragi-reason', nameKey: 'rec-ragi' },
                { name: 'Groundnut', emoji: 'ðŸ¥œ', reason: 'rec-groundnut-reason', nameKey: 'rec-groundnut' },
                { name: 'Cotton', emoji: 'â˜ï¸', reason: 'rec-cotton-reason', nameKey: 'rec-cotton' },
                { name: 'Jute', emoji: 'ðŸ§µ', reason: 'rec-jute-reason', nameKey: 'rec-jute' }
            ],
            Rabi: [
                { name: 'Wheat', emoji: 'ðŸž', reason: 'rec-wheat-reason', nameKey: 'rec-wheat' },
                { name: 'Mustard', emoji: 'ðŸŒ¼', reason: 'rec-mustard-reason', nameKey: 'rec-mustard' },
                { name: 'Chickpea', emoji: 'ðŸ¥£', reason: 'rec-chickpea-reason', nameKey: 'rec-chickpea' },
                { name: 'Barley', emoji: 'ðŸº', reason: 'rec-barley-reason', nameKey: 'rec-barley' },
                { name: 'Lentil (Masur)', emoji: 'ðŸ²', reason: 'rec-lentil-reason', nameKey: 'rec-lentil' },
                { name: 'Potato', emoji: 'ðŸ¥”', reason: 'rec-potato-reason', nameKey: 'rec-potato' }
            ],
            Zaid: [
                { name: 'Mung Bean', emoji: 'ðŸ¥—', reason: 'rec-mung-bean-reason', nameKey: 'rec-mung-bean' },
                { name: 'Watermelon', emoji: 'ðŸ‰', reason: 'rec-watermelon-reason', nameKey: 'rec-watermelon' },
                { name: 'Cucumber', emoji: 'ðŸ¥’', reason: 'rec-cucumber-reason', nameKey: 'rec-cucumber' },
                { name: 'Pumpkin', emoji: 'ðŸŽƒ', reason: 'rec-pumpkin-reason', nameKey: 'rec-pumpkin' }
            ]
        };

        form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Show loading state
            btnText.classList.add('hidden');
            btnLoader.classList.remove('hidden');
            recommendBtn.disabled = true;
            resultsSection.innerHTML = '';
            resultsSection.classList.add('hidden');

            setTimeout(() => {
                const month = new Date(document.getElementById('date').value).getMonth();
                let season, seasonCrops;
                
                // Determine season based on month
                if (month >= 5 && month <= 9) { 
                    season = 'Kharif'; 
                    seasonCrops = cropsBySeason.Kharif; 
                } 
                else if (month >= 10 || month <= 3) { 
                    season = 'Rabi'; 
                    seasonCrops = cropsBySeason.Rabi; 
                } 
                else { 
                    season = 'Zaid'; 
                    seasonCrops = cropsBySeason.Zaid; 
                }

                // Get current language
                const currentLang = localStorage.getItem('selectedLanguage') || 'en';
                
                // Get random recommendations
                const recommendations = seasonCrops.sort(() => 0.5 - Math.random()).slice(0, 4);
                
                // Generate cards HTML with translations
                let cardsHtml = recommendations.map(crop => `
                    <div class="recommendation-card">
                        <span class="crop-emoji">${crop.emoji}</span>
                        <div class="crop-name">${translations[currentLang][crop.nameKey] || crop.name}</div>
                        <div class="crop-reason">${translations[currentLang][crop.reason] || crop.reason}</div>
                    </div>`).join('');

                // Get season translation
                const seasonKey = season === 'Kharif' ? 'rec-kharif' : season === 'Rabi' ? 'rec-rabi' : 'rec-zaid';
                const seasonTranslated = translations[currentLang][seasonKey] || season;

                // Update results section
                resultsSection.innerHTML = `
                    <div class="fade-in">
                        <div class="results-title">${translations[currentLang]['rec-results-title']} <span class="season-name">${seasonTranslated}</span> ${translations[currentLang]['rec-season']}</div>
                        <div class="recommendations-grid">${cardsHtml}</div>
                    </div>`;
                
                resultsSection.classList.remove('hidden');

                // Reset button state
                btnText.classList.remove('hidden');
                btnLoader.classList.add('hidden');
                recommendBtn.disabled = false;
            }, 1200);
        });

        // Load saved language preference on page load
        document.addEventListener('DOMContentLoaded', function() {
            const savedLanguage = localStorage.getItem('selectedLanguage') || 'en';
            translatePage(savedLanguage);
        });
    </script>
</body>
</html>
